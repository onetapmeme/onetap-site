/* ===========================
   $ONETAP v3.2 – style.css
   =========================== */

/* Theme */
:root{
  --bg:#090d1a; --bg-soft:#111425; --glass:rgba(0,0,0,.12);
  --gold:#ffe066; --gold-strong:#ffd54d; --gold-soft:#ffe06699;
  --text:#fff; --muted:#ffffffcc;
  --shadow-gold:0 0 40px 12px var(--gold),0 0 0 6px rgba(255,224,102,.53);
  --radius-lg:38px; --radius-md:18px; --radius-sm:12px;
  --font-ui:'Montserrat','Segoe UI',Arial,sans-serif;
  --font-pixel:'Press Start 2P',monospace,Arial;
  --focus:0 0 0 3px rgba(255,224,102,.45);
}

/* Base */
*{box-sizing:border-box}
html,body{
  margin:0;padding:0;width:100%;height:100%;
  background:var(--bg);color:var(--text);font-family:var(--font-ui);
  overflow:hidden;
}
img,svg{display:block;max-width:100%;height:auto}
button{font:inherit}
a{color:var(--gold);text-decoration:none}
a:hover{text-decoration:underline}
:focus-visible{outline:none;box-shadow:var(--focus);border-radius:10px}

/* Particles */
#background-canvas{position:fixed;inset:0;width:100vw;height:100vh;z-index:0;pointer-events:none}

/* Welcome */
#welcome-screen{
  position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;background:transparent;
}
#tap2enter-img{
  max-width:95vw;max-height:75vh;object-fit:contain;margin:0 auto 2vw;transform:scale(1.08);
  filter:drop-shadow(0 0 40px #000b);user-select:none;
}
#press-anywhere-text{
  color:var(--gold);font-size:1.1rem;opacity:.9;letter-spacing:.13em;animation:pulseText 1.2s infinite alternate;user-select:none;
}
@keyframes pulseText{0%{opacity:.38}100%{opacity:1}}
#watermark-logo{position:absolute;right:3vw;bottom:7vh;width:300px;max-width:60vw;opacity:.05;pointer-events:none;z-index:1}

/* Loader */
#loader{position:fixed;inset:0;display:none;align-items:center;justify-content:center;flex-direction:column;background:#090d1acc;z-index:30}
.spinner{width:60px;height:60px;border:6px solid rgba(255,224,102,.27);border-top:6px solid var(--gold);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:1rem}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-text{color:var(--gold);font-size:1.05rem;letter-spacing:.09em;opacity:.9}

/* Roulette */
#roulette-screen{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:20}
#roulette-container{
  background:var(--glass);border-radius:var(--radius-lg);box-shadow:var(--shadow-gold);
  padding:2vw;display:flex;align-items:center;justify-content:center;min-width:65vw;min-height:12vw;gap:1.3vw;position:relative;overflow:hidden;transition:filter .45s;
}
#roulette-container.blurred .roulette-case:not(.gold){filter:blur(3px) brightness(.97)}
.roulette-case{
  width:7vw;height:10vw;max-width:110px;max-height:140px;border-radius:13px;background:#131313;
  border:3px solid rgba(255,224,102,.6);box-shadow:0 0 10px rgba(255,224,102,.4);
  display:flex;align-items:center;justify-content:center;transition:box-shadow .25s,filter .18s,transform .18s;
}
.roulette-case img{width:88%;height:auto}
.roulette-case.gold{
  border:3.5px solid gold;background:#fff8e1;box-shadow:0 0 22px 9px gold,0 0 0 4px rgba(255,224,102,.6);
  z-index:2;animation:shine .9s infinite alternate;
}
@keyframes shine{0%{box-shadow:0 0 14px 5px gold}100%{box-shadow:0 0 44px 18px var(--gold),0 0 0 4px rgba(255,224,102,.6)}}

/* Drops */
#gold-drop-screen,#onetap-drop-screen,#main-inventory{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;flex-direction:column;z-index:28
}
.gold-animation-wrapper,.onetap-animation-wrapper{position:relative;display:flex;align-items:center;justify-content:center}

/* Gold halo */
.gold-flash{
  position:absolute;left:50%;top:50%;width:300px;height:350px;transform:translate(-50%,-54%);
  background:radial-gradient(circle,gold 12%,var(--gold-strong) 52%,transparent 100%);border-radius:50%;
  filter:blur(32px) brightness(1.8);opacity:.94;z-index:1;animation:goldFlash .9s cubic-bezier(.81,.11,.17,1.14) infinite alternate;
}
@keyframes goldFlash{0%{opacity:.45;filter:blur(28px) brightness(1.2)}100%{opacity:1;filter:blur(48px) brightness(2.2)}}

/* Gold 3D */
#gold-drop-img{
  width:clamp(110px,14vw,160px);
  filter:drop-shadow(0 0 30px gold) drop-shadow(0 0 13px rgba(255,224,102,.78));
  z-index:2;animation:goldDrop3D 1.6s cubic-bezier(.33,1.34,.46,.85) both;
}
@keyframes goldDrop3D{
  0%{transform:scale(.2) rotateY(-44deg) rotateZ(-12deg);opacity:0;filter:blur(14px) brightness(1.2)}
  40%{transform:scale(1.28) rotateY(15deg) rotateZ(8deg);opacity:1;filter:blur(2px) brightness(1.3)}
  66%{transform:scale(1.09) rotateY(-12deg) rotateZ(-5deg)}
  84%{transform:scale(1.18) rotateY(10deg) rotateZ(5deg)}
  100%{transform:scale(1) rotateY(0) rotateZ(0);opacity:1;filter:none}
}
#gold-drop-text{
  color:gold;font:700 1.35rem/1 var(--font-pixel);margin-top:2vw;letter-spacing:.08em;
  text-shadow:0 0 12px var(--gold),0 2px 2px #0c0733;filter:brightness(1.18);text-align:center;user-select:none;animation:dropTxt .9s .8s both cubic-bezier(.33,1.34,.46,.85)
}
@keyframes dropTxt{from{transform:translateY(18px);opacity:0}to{transform:none;opacity:1}}
.confetti{position:absolute;inset:0;pointer-events:none;z-index:4}

/* $ONETAP 3D */
#onetap-logo-img{
  width:clamp(120px,16vw,200px);
  filter:drop-shadow(0 0 32px gold) drop-shadow(0 0 15px rgba(255,224,102,.78));
  animation:onetap3DPop 1.45s cubic-bezier(.39,2.04,.41,.87) both;
}
@keyframes onetap3DPop{
  0%{transform:scale(.38) rotateY(-38deg) rotateZ(-17deg) translateY(70px);opacity:0}
  50%{transform:scale(1.21) rotateY(10deg) rotateZ(4deg) translateY(-18px)}
  82%{transform:scale(1.07) rotateY(-7deg) rotateZ(-2deg) translateY(5px)}
  100%{transform:scale(1) rotateY(0) rotateZ(0) translateY(0);opacity:1}
}
#onetap-drop-text{
  color:var(--gold);font:700 1.3rem/1 var(--font-pixel);margin-top:1.3vw;letter-spacing:.06em;
  text-shadow:0 0 10px gold,0 2px 2px #0c0733;animation:dropTxt 1.1s .4s both cubic-bezier(.33,1.34,.46,.85)
}
#share-btn{
  display:none;margin-top:1.6rem;background:linear-gradient(90deg,var(--gold) 0%,var(--gold-strong) 100%);
  color:#14152b;border:0;border-radius:10px;padding:.9em 1.6em;font-weight:700;letter-spacing:.07em;box-shadow:0 2px 12px rgba(255,224,102,.35);cursor:pointer;transition:filter .12s
}
#share-btn:hover{filter:brightness(1.08)}

/* Inventory */
#main-inventory{gap:1rem}
#main-inventory h1{
  color:var(--gold);font-size:clamp(1.2rem,2.6vw,2.2rem);font-weight:800;text-align:center;letter-spacing:.05em;
  text-shadow:0 0 13px rgba(255,224,102,.45),0 3px 5px #090d1a;margin:0 0 1.2rem;
}
.onetap-inventory-drop{width:clamp(120px,18vw,220px);filter:drop-shadow(0 0 30px gold)}
.ticker{
  margin-top:.6rem;color:#fff8;background:rgba(26,29,47,.27);padding:.55em 1.2em;border-radius:10px;
  font-size:clamp(.85rem,1.2vw,1.05rem);letter-spacing:.08em;box-shadow:0 2px 8px rgba(255,224,102,.33);border:1.6px solid rgba(255,224,102,.47);text-align:center;opacity:.97
}

/* Tokenomics button + modal */
.tokenomics-btn{
  position:fixed;left:20px;bottom:22px;z-index:60;padding:.67em 1.2em;background:rgba(255,224,102,.16);
  color:var(--gold);border:1.7px solid rgba(255,224,102,.53);border-radius:16px;font-weight:700;letter-spacing:.08em;font-size:1.02rem;
  box-shadow:0 2px 13px rgba(255,224,102,.15);cursor:pointer;opacity:.82;transition:opacity .18s,background .18s,transform .12s
}
.tokenomics-btn:hover{opacity:1;background:rgba(255,224,102,.28);transform:translateY(-1px)}

#tokenomics-overlay{display:none;position:fixed;inset:0;z-index:120;background:rgba(18,19,35,.86);backdrop-filter:blur(6px);align-items:center;justify-content:center}
#tokenomics-overlay.open{display:flex}
.tokenomics-modal{
  background:rgba(34,36,50,.97);border-radius:18px;padding:2.1em 2em 1.5em;
  box-shadow:0 0 60px 6px rgba(255,224,102,.13),0 2px 34px rgba(12,1,43,.42);
  max-width:92vw;width:480px;max-height:88vh;overflow:auto;display:flex;flex-direction:column;align-items:center;gap:1rem;position:relative
}
.close-btn{position:absolute;right:.9em;top:.9em;background:transparent;color:var(--gold);border:none;font-size:1.4em;opacity:.7;cursor:pointer;transition:opacity .18s}
.close-btn:hover{opacity:1}
.tokenomics-modal h2{color:var(--gold);font-family:var(--font-pixel);letter-spacing:.04em;margin:.2em 0 1rem;font-size:1.25em;text-align:center}
.tokenomics-cards{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:.9rem}
.tok-card{
  flex:1 1 130px;background:#191a28ea;border-radius:13px;box-shadow:0 2px 14px rgba(255,224,102,.18);
  border:1.5px solid rgba(255,224,102,.35);padding:.9em .7em .8em;display:flex;flex-direction:column;align-items:center;min-width:140px
}
.tok-label{font-size:.95em;color:var(--gold);margin-bottom:.25em}
.tok-value{font-size:1.15em;color:#fff;font-weight:700;text-align:center}
.tok-sub{font-size:.92em;color:rgba(255,224,102,.75);display:block;margin-top:.2em}

/* Info sections (si page dédiée) */
.info-section{width:100vw;background:rgba(20,20,35,.9);padding:3vw 0 2vw;margin:0;text-align:center}
.info-section h2{color:var(--gold);font-family:var(--font-pixel);font-size:clamp(1.1rem,2.2vw,2rem);margin:0 0 1rem}
.tokenomics-card{
  background:#181c28e8;border:1.6px solid rgba(255,224,102,.2);border-radius:18px;min-width:190px;padding:1rem 1.2rem;margin:.6rem;
  display:inline-flex;flex-direction:column;align-items:center;color:var(--gold);transition:transform .13s, box-shadow .13s
}
.tokenomics-card:hover{transform:translateY(-1px) scale(1.03);box-shadow:0 2px 24px rgba(255,224,102,.26)}
.t-label{font-size:.95rem;color:#fff8;margin-bottom:.1em}
.t-value{font-size:1.05rem;color:var(--gold);font-weight:700;letter-spacing:.02em}
.chart-container{width:min(92vw,520px);height:240px;margin:0 auto 2rem;background:#171b28;border-radius:14px;box-shadow:0 2px 14px rgba(255,224,102,.07);padding:1rem}
canvas#fakeChart{width:100%;height:100%}
.liquidity-badge{display:inline-flex;align-items:center;gap:9px;background:#24253a;color:var(--gold);border:1px solid rgba(255,224,102,.27);border-radius:12px;padding:.35em 1.1em;font-size:1rem;margin:.8rem auto;box-shadow:0 2px 7px rgba(255,224,102,.12)}
.liquidity-badge img{width:22px;height:22px;filter:drop-shadow(0 0 6px rgba(255,224,102,.6))}
.liquidity-badge a{color:var(--gold);text-decoration:underline dotted;font-size:.98em;margin-left:.6em}

/* Killfeed */
#killfeed{position:fixed;top:3vw;left:50%;transform:translateX(-50%);z-index:101;min-width:260px;max-width:86vw;text-align:center;pointer-events:none;font-family:var(--font-pixel);font-size:1rem}
.kill-msg{
  background:#0a0c21ee;color:var(--gold);border-radius:16px;margin:.3em auto;display:inline-block;padding:.35em 1.25em;
  box-shadow:0 2px 12px rgba(255,224,102,.24);
  animation:feedIn .45s cubic-bezier(.6,1.68,.7,.98),feedOut .8s 2.6s cubic-bezier(.9,.11,.07,.86) forwards
}
@keyframes feedIn{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:none}}
@keyframes feedOut{to{opacity:0;transform:translateY(-16px)}}

/* Mute */
#mute-btn{
  position:fixed;right:18px;bottom:18px;z-index:99;width:38px;height:38px;background:rgba(22,22,22,.72);
  border:1.5px solid rgba(255,224,102,.62);border-radius:50%;box-shadow:0 2px 8px rgba(255,224,102,.25);
  color:var(--gold);cursor:pointer;opacity:.7;display:inline-flex;align-items:center;justify-content:center;transition:opacity .15s,transform .12s
}
#mute-btn:hover{opacity:1;transform:translateY(-1px)}
#mute-btn:active{opacity:.35;transform:translateY(0)}
#mute-ico{display:inline-flex;width:100%;height:100%;align-items:center;justify-content:center}

/* Responsive */
@media (max-width:700px){
  #tap2enter-img{max-width:99vw;max-height:60vh}
  #watermark-logo{width:120px;max-width:67vw;bottom:2vh}
  .gold-flash{width:170px;height:200px}
  #gold-drop-img{width:clamp(95px,30vw,130px)}
  #onetap-logo-img{width:clamp(110px,34vw,160px)}
  #gold-drop-text,#onetap-drop-text{font-size:1rem}
  #main-inventory h1{font-size:1.05rem}
  .ticker{font-size:.95rem;padding:.45em .8em}
  #roulette-container{min-width:92vw;min-height:27vw;gap:1.3vw}
  .roulette-case{width:16vw;height:18vw;max-width:95px;max-height:105px}
  #mute-btn{right:10px;bottom:10px;width:34px;height:34px}
  .tokenomics-btn{left:10px;bottom:10px;font-size:.92rem;padding:.52em .93em;border-radius:10px}
  .tokenomics-modal{width:96vw;padding:1em .7em 1.1em}
  .tok-card{min-width:130px}
}

/* Reduced motion */
@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}

/* Footer legal (optionnel) */
.legal{
  position:fixed;left:0;right:0;bottom:0;text-align:center;font-size:.8rem;color:#ffffff99;background:rgba(0,0,0,.35);
  padding:.35rem .6rem;z-index:5;backdrop-filter:blur(2px)
}
.legal a{color:var(--gold)}
